{"ast":null,"code":"var _jsxFileName = \"/Users/shiuanhsieh/Documents/109-1/web_program/final-project/rbc-starter/src/App.js\";\nimport React, { useEffect, useRef, useCallback, useState } from 'react';\nimport { useQuery, useMutation } from '@apollo/react-hooks';\nimport { USER_QUERY, PROJECT_QUERY } from './graphql';\nimport './App.css'; //import React, { Component } from \"react\";\n\nimport { Calendar, momentLocalizer } from \"react-big-calendar\";\nimport moment from \"moment\";\nimport \"./App.css\";\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\nconst localizer = momentLocalizer(moment);\n\nfunction App() {\n  const [projects, setProjects] = useState([]);\n  const [events, setEvents] = useState([]);\n  const [items, setItems] = useState([]);\n  const [username, setUsername] = useState('May');\n  const [userid, setUserid] = useState('1111');\n  const [type, setType] = useState('login');\n  const {\n    data,\n    refetch,\n    subscribeToMore\n  } = useQuery(USER_QUERY, {\n    variables: {\n      name: 'May',\n      id: '1111',\n      type: 'login'\n    }\n  });\n  useEffect(() => {\n    console.log(data);\n\n    if (data) {\n      setProjects(data.user.projects);\n      console.log(data.user.projects);\n    }\n  }, [data]);\n  useEffect(() => {\n    console.log(projects);\n    var itemlist = [];\n    projects.forEach(p => {\n      console.log(p);\n      p.events.forEach(e => {\n        console.log(e);\n        e.items.forEach(i => {\n          itemlist.push({\n            start: moment(i.time.start.replace('/', '-').replace('/', '-')).toDate(),\n            end: moment(i.time.end.replace('/', '-').replace('/', '-')).toDate(),\n            title: p.name + ' ' + e.name + ' ' + i.name,\n            backgroundColor: '#ff0000',\n            textColor: '#ff0000'\n          });\n        });\n      });\n    });\n    console.log(itemlist);\n    setItems(itemlist);\n  }, [projects]);\n  const test = [{\n    start: moment().toDate(),\n    end: moment().add(1, \"days\").toDate(),\n    title: \"Some title\"\n  }];\n  console.log(test);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Calendar, {\n    localizer: localizer,\n    defaultDate: new Date(),\n    defaultView: \"month\",\n    events: items,\n    style: {\n      height: \"100vh\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/shiuanhsieh/Documents/109-1/web_program/final-project/rbc-starter/src/App.js"],"names":["React","useEffect","useRef","useCallback","useState","useQuery","useMutation","USER_QUERY","PROJECT_QUERY","Calendar","momentLocalizer","moment","localizer","App","projects","setProjects","events","setEvents","items","setItems","username","setUsername","userid","setUserid","type","setType","data","refetch","subscribeToMore","variables","name","id","console","log","user","itemlist","forEach","p","e","i","push","start","time","replace","toDate","end","title","backgroundColor","textColor","test","add","Date","height"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useCallback, useState } from 'react'\nimport { useQuery, useMutation } from '@apollo/react-hooks'\nimport {\n  USER_QUERY,\n  PROJECT_QUERY\n} from './graphql'\nimport './App.css'\n//import React, { Component } from \"react\";\nimport { Calendar, momentLocalizer } from \"react-big-calendar\";\nimport moment from \"moment\";\nimport \"./App.css\";\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\n\nconst localizer = momentLocalizer(moment);\n\nfunction App() {\n  const [projects, setProjects] = useState([])\n  const [events, setEvents] = useState([])\n  const [items, setItems] = useState([])\n  const [username, setUsername] = useState('May')\n  const [userid, setUserid] = useState('1111')\n  const [type, setType] = useState('login') \n  const { data, refetch, subscribeToMore } = useQuery(USER_QUERY, {\n      variables: {\n              name: 'May',\n              id: '1111',\n              type: 'login'\n      }\n  })\n\n  useEffect(() => {\n    console.log(data)\n    if(data){\n      setProjects(data.user.projects)\n      console.log(data.user.projects)\n    }\n  }, [data])\n\n  useEffect(() => {\n    console.log(projects);\n    var itemlist = []\n    projects.forEach(p => {\n      console.log(p)\n      p.events.forEach(e => {\n        console.log(e);\n        e.items.forEach(i => {\n          itemlist.push({\n            start: moment(i.time.start.replace('/', '-').replace('/', '-')).toDate(),\n            end: moment(i.time.end.replace('/', '-').replace('/', '-')).toDate(),\n            title: p.name + ' ' + e.name + ' ' + i.name,\n            backgroundColor: '#ff0000',\n            textColor: '#ff0000'\n          })\n        })\n      })\n    })\n    console.log(itemlist)\n    setItems(itemlist)\n  }, [projects])\n\n  const test = [\n      {\n        start: moment().toDate(),\n        end: moment()\n          .add(1, \"days\")\n          .toDate(),\n        title: \"Some title\"\n      }\n  ]\n  console.log(test)\n\n\n    return (\n      <div className=\"App\">\n        <Calendar\n          localizer={localizer}\n          defaultDate={new Date()}\n          defaultView=\"month\"\n          events={items}\n          style={{ height: \"100vh\" }}\n        />\n      </div>\n    );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}