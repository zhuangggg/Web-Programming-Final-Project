{"ast":null,"code":"var _jsxFileName = \"/Users/shiuanhsieh/Documents/109-1/web_program/final-project/rbc-starter/src/App.js\";\nimport React, { useEffect, useRef, useCallback, useState } from 'react';\nimport { useQuery, useMutation } from '@apollo/react-hooks';\nimport { USER_QUERY, PROJECT_QUERY } from './graphql';\nimport './App.css'; //import React, { Component } from \"react\";\n\nimport { Calendar, momentLocalizer } from \"react-big-calendar\";\nimport moment from \"moment\";\nimport \"./App.css\";\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\nconst localizer = momentLocalizer(moment);\n\nfunction App() {\n  const [projects, setProjects] = useState([]);\n  const [events, setEvents] = useState([]);\n  const [items, setItems] = useState([]);\n  const [username, setUsername] = useState('May');\n  const [userid, setUserid] = useState('1111');\n  const [type, setType] = useState('login');\n  const {\n    data,\n    refetch,\n    subscribeToMore\n  } = useQuery(USER_QUERY, {\n    variables: {\n      query: {\n        name: username,\n        id: userid,\n        type: type\n      }\n    }\n  });\n  useEffect(() => {\n    console.log(data);\n    setProjects(userdata.user.projects);\n    var itemlist = [];\n    projects.forEach(p => {\n      p.events.forEach(e => {\n        e.items.forEach(i => {\n          itemlist.push({\n            start: i.time.start,\n            end: i.time.end,\n            title: p.name + ' ' + e.name + ' ' + i.name\n          });\n        });\n      });\n    });\n    console.log(itemlist);\n    setItems(itemlist);\n  }, [data]);\n  /*\n    state = {\n      events: [\n        {\n          start: moment().toDate(),\n          end: moment()\n            .add(1, \"days\")\n            .toDate(),\n          title: \"Some title\"\n        }\n      ]\n    };\n  */\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Calendar, {\n    localizer: localizer,\n    defaultDate: new Date(),\n    defaultView: \"month\",\n    events: items,\n    style: {\n      height: \"100vh\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/shiuanhsieh/Documents/109-1/web_program/final-project/rbc-starter/src/App.js"],"names":["React","useEffect","useRef","useCallback","useState","useQuery","useMutation","USER_QUERY","PROJECT_QUERY","Calendar","momentLocalizer","moment","localizer","App","projects","setProjects","events","setEvents","items","setItems","username","setUsername","userid","setUserid","type","setType","data","refetch","subscribeToMore","variables","query","name","id","console","log","userdata","user","itemlist","forEach","p","e","i","push","start","time","end","title","Date","height"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useCallback, useState } from 'react'\nimport { useQuery, useMutation } from '@apollo/react-hooks'\nimport {\n  USER_QUERY,\n  PROJECT_QUERY\n} from './graphql'\nimport './App.css'\n//import React, { Component } from \"react\";\nimport { Calendar, momentLocalizer } from \"react-big-calendar\";\nimport moment from \"moment\";\nimport \"./App.css\";\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\n\nconst localizer = momentLocalizer(moment);\n\nfunction App() {\n  const [projects, setProjects] = useState([])\n  const [events, setEvents] = useState([])\n  const [items, setItems] = useState([])\n  const [username, setUsername] = useState('May')\n  const [userid, setUserid] = useState('1111')\n  const [type, setType] = useState('login') \n  const { data, refetch, subscribeToMore } = useQuery(USER_QUERY, {\n      variables: {\n          query: {\n              name: username,\n              id: userid,\n              type: type\n          }\n      }\n  })\n\n  useEffect(() => {\n    console.log(data)\n    setProjects(userdata.user.projects)\n    var itemlist = []\n    projects.forEach(p => {\n      p.events.forEach(e => {\n        e.items.forEach(i => {\n          itemlist.push({\n            start: i.time.start,\n            end: i.time.end,\n            title: p.name + ' ' + e.name + ' ' + i.name\n          })\n        })\n      })\n    })\n    console.log(itemlist)\n    setItems(itemlist)\n\n  }, [data])\n\n/*\n  state = {\n    events: [\n      {\n        start: moment().toDate(),\n        end: moment()\n          .add(1, \"days\")\n          .toDate(),\n        title: \"Some title\"\n      }\n    ]\n  };\n*/\n\n\n    return (\n      <div className=\"App\">\n        <Calendar\n          localizer={localizer}\n          defaultDate={new Date()}\n          defaultView=\"month\"\n          events={items}\n          style={{ height: \"100vh\" }}\n        />\n      </div>\n    );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}